@import "../base/global";

.about {
  --gap-section: 7rem;
  position: relative;
  padding-top: var(--gap-section);
  @include res-min-desktop-s {
    padding-bottom: var(--gap-section);
  }

  &__container {
    --column: 1fr;
    --gap-row-container: #{$gap-xxl};
    --gap-column-container: #{$gap-xxl};
    @include grid-columns(def, var(--column), 0, stretch, center, stretch);
    column-gap: var(--gap-column-container);
    row-gap: var(--gap-row-container);
    @include res-min-tablet {
      --column: 8fr 5fr;
      --gap-row-container: 0;
      --gap-column-container: 6.4rem;
    }
    @include res-min-desktop-s {
      --gap-row-container: 0;
    }
  }

  &__title {
    h2 {
      @include res-min-tablet {
        margin-bottom: $gap-l;
      }
    }
  }

  &__content {
    @include flex-set(def, column, wrap, $gap-l, flex-start, flex-start);

    p {
      margin-bottom: var(--gap-l);
      font-size: large;
      color: var(--color-secondary);

      strong {
        font-family: inherit;
        font-weight: bold;
      }
    }
  }

  &__numbers {
    --align-content: flex-start;
    @include grid-columns(def, minmax($gap, 1fr), $gap-l, var(--align-content));
    position: relative;
    grid-row-start: 2;

    @include res-min-mobile-xl-max-tablet {
      grid-template-columns: repeat(6, 1fr);
    }
    @include res-min-tablet {
      --align-content: center;
      grid-column: 2;
      grid-row: 1 / span 6;
    }

    &::after {
      @include res-min-desktop-s {
        --bg-image: url("../images/circles/about-dots.svg");
        position: absolute;
        right: -100px;
        bottom: -100px;
        content: "";
        width: 50rem;
        height: 35rem;
        background-image: var(--bg-image);
        background-repeat: no-repeat;
        background-position: bottom 0 right 0;
      }
    }

    &::before {
      --shape-radius: 0;
      position: absolute;
      right: -1rem;
      bottom: -1.6rem;
      content: "";
      width: 100vw;
      height: calc(100% + 3.2rem);
      background: radial-gradient(
        ellipse at center,
        $color-primary,
        $color-primary--darken
      );
      border-radius: var(--shape-radius) 0 0 var(--shape-radius);
      z-index: -1;
      @include res-min-mobile-l {
        right: -1.6rem;
      }
      @include res-min-tablet {
        --shape-radius: 6rem;
        bottom: 0;
        width: 75%;
        height: 480px;
      }
      @include res-min-desktop-s {
        bottom: -9.6rem;
        height: calc(100% + 6.4rem);
      }
      @include res-min-desktop-m {
        right: -80vh;
        width: 100vh;
      }
    }
  }

  &__card {
    --card-opacity: 0;
    --trans-time: 0.5s;
    --color-box-shadow: hsla(0, 0%, 0%, 0.17);
    --trans-y: -1rem;
    @include box-shadow();
    position: relative;
    padding: $gap $gap 0.6rem $gap;
    background-color: var(--color-white);
    opacity: var(--card-opacity);
    border-radius: var(--gap);
    transform: translateY(var(--trans-y));
    transition: opacity var(--trans-time) var(--trans-fnc),
      transform var(--trans-time) var(--trans-fnc);
    @include res-min-mobile-xl-max-tablet {
      grid-column: span 3;
    }
    @include res-min-tablet {
      padding: 4rem 1.6rem 1.2rem 1.6rem;
    }

    &:nth-of-type(3) {
      @include res-min-mobile-xl-max-tablet {
        grid-column: 6/2;
      }
    }

    &--visible {
      --card-opacity: 1;
      --trans-y: 0;

      &:nth-child(1) {
        transition-delay: 0;
      }

      &:nth-child(2) {
        transition-delay: 0.25s;
      }

      &:nth-child(3) {
        transition-delay: 0.5s;
      }
    }

    div {
      position: absolute;
      top: $gap;
      right: $gap-l;
      width: 52px;
      height: 52px;
      background: var(--color-primary);
      border-radius: 50%;
      @include res-min-tablet {
        top: $gap-l;
      }
      @include res-min-desktop-s {
        width: 72px;
        height: 72px;
      }

      .icon {
        --icon-size: var(--gap-l);
        @include center-item;
        fill: var(--color-white);
        @include res-min-desktop-s {
          --icon-size: var(--gap-xl);
        }
      }
    }

    p {
      font-family: var(--font-title);
      font-size: x-large;
      line-height: 1;
      color: var(--color-secondary);
      @include res-min-desktop-s {
        font-size: xx-large;
      }
    }

    span {
      font-family: var(--font-title);
      font-size: xx-large;
      font-weight: 600;
      line-height: 1;
      color: var(--color-black);
      @include res-min-desktop-s {
        font-size: xxx-large;
      }
    }
  }
}
